<!DOCTYPE html>
<html>
<head>
	<title>Dette er en test.</title>
	<link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
	<div id="header">
		<h1>Lego-roboten sin reise</h1>
	</div>

	<div id="main">

		<p id="tekstfelt">OK lol</p>
		<div style="position: relative; left: 0; top: 0;">
			<img src="speedometer.png" id="speedometer" class="speedom">
			<img src="nystrek.png" id="strek" class="speedline">
			<img src="reverseImg.jpg" id="reverse" class="reverseImg"
  	</div>

	</div>



	<script type="text/javascript">
		var myvar = setInterval(function(){tekstfelt.innerHTML = loadFile("info.txt");console.log(".");}, 1000)
		function loadFile(filePath) {
			var result = null;
			var xmlhttp = new XMLHttpRequest();
			xmlhttp.open("GET", filePath, false);
			xmlhttp.send();
			if (xmlhttp.status==200) {
		    result = xmlhttp.responseText;
			}
			return result;
		}

		document.getElementById("tekstfelt");

		function updateSpeedometer(){
			var roboSpeed = loadFile("vinfo.txt");//-45deg to 226deg
			roboSpeedDeg = 2.71*abs(roboSpeed);
			if(roboSpeed>=0){
				document.getElementById("nystrek").style.transform = "rotate("+roboSpeedDeg+")";
				document.getElementById("reverseImg").style.transform = "visibility: hidden";
			}
			else {
				document.getElementById("nystrek").style.transform = "rotate("+roboSpeedDeg+")";
				document.getElementById("reverseImg").style.transform = "visibility: visible";
			}
		}
		function updateText() {
			tekstfelt.innerHTML = loadFile("info.txt");console.log(".");
		}
	</script>

</body>
</html>
